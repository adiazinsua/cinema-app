@if (movie) {

<div class="ion-margin">
  <ion-item-sliding>
    <ion-item lines="none" (click)="redirectToDetail()">
      <ion-grid>
        <ion-row>
          <ion-col size="5" class="">
            <!-- <ng-container *ngIf="!isImageLoaded">
              <ion-skeleton-text
                [animated]="true"
                style="width: 100%; height: 100%"
              ></ion-skeleton-text>
            </ng-container> -->

            <ion-img
              [src]="movie.imageUrl"
              (ionImgDidLoad)="onImageLoad()"
            ></ion-img>
          </ion-col>
          <ion-col>
            <ion-card-header>
              <ion-card-title class="ion-text-center">{{
                movie.title
              }}</ion-card-title>
            </ion-card-header>

            <ion-card-content class="ion-text-center">
              {{ this.truncateText(movie.description, 80) }}
              <ion-row class="ion-justify-content-center mt-3 rating">
                <ion-icon
                  [name]="
                    movie.rating != null && rate < movie.rating
                      ? 'star'
                      : 'star-outline'
                  "
                  *ngFor="let rate of [0, 1, 2, 3, 4]"
                  [ngClass]="movie.rating != null ? 'goldenrod' : 'grey'"
                  (click)="setRating(rate + 1, $event)"
                />
              </ion-row> </ion-card-content></ion-col
        ></ion-row>
      </ion-grid>
    </ion-item>

    <ion-item-options>
      <ion-item-option (click)="showDeleteMovieAlert()" color="danger"
        ><ion-icon name="trash-outline"></ion-icon
      ></ion-item-option>
      <ion-item-option (click)="redirectToEdit()" class="edit-btn-border"
        ><ion-icon name="create-outline"></ion-icon
      ></ion-item-option>
    </ion-item-options>
  </ion-item-sliding>
</div>
}
